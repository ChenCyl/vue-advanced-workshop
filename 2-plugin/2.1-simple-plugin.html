<script src="../node_modules/vue/dist/vue.js"></script>

<script>
  const RulesPlugin = {
    install(Vue) {
      Vue.mixin({
        created() {
          if (this.$options.rules) {
            // Do something with rules
            if (!this.$options.rules.foo.validate(this.foo)) {
              console.log(this.$options.rules.foo.message)
            }
          }
        },
        watch: {
          foo(newValue) {
            if (this.$options.rules) {
              // Do something with rules
              if (!this.$options.rules.foo.validate(newValue)) {
                console.log(this.$options.rules.foo.message)
              }
            }
          }
        },
      })
    }
  }

  Vue.use(RulesPlugin)
</script>